## Elasticsearch数据监控指南

下面以count监控为例子，说明创建一个elasticsearch监控的过程

### 1. 添加elasticsearch数据源

打开页面：数据管理->数据源，点击新增按钮，弹出窗口，填写字段并保存。

<img src="../img/add-datasource.png" />

其中服务地址填写Elasticsearch服务的地址，如果有多个用英文逗号分隔。
>注意服务地址端口不能缺省，就算是80端口也需要加上

### 2. 添加elasticsearch数据名

打开页面：数据管理->数据名，点击新增按钮，弹出窗口，填写字段并保存。

<img src="../img/add-dataname.png" />

数据名在elasticsearch场景可以理解为索引模式，之所以不直接用索引，是因为项目计划不只支持elasticsearch，还会
支持influxdb等其它数据源类型。索引后缀如果不是标准的时间模式，可以用*号。

### 3. 验证查询

添加完数据名，打开数据查询页面。下拉选择刚才保存的数据名，点击查询。如果查出来数据和你的索引数据对上了，说明数据信息都
填写正确了。

<img src="../img/es.png" />

query string查询语句语法不清楚的，可以参考文档: <a href="./query-string.md" target="_blank">query string简易教程</a>，查询页面主要
小特性列表

* 查询语句输入框会有历史查询记忆功能，用起来很方便。
* 数据表格第一列是一个展开箭头，可以展开数据查看完整的日志内容。
* 数据可以下载，文件格式为csv，限制在10w条以内
* 点击*分享*按钮，查询还可以以短链接的形式分享给其他人
* 如果你想用当前查询语句创建监控，直接点击*添加监控*按钮，就会直接带到监控创建页面

这些小功能可以说相当贴心了。

### 4. 添加监控



### 5. 运行试试 

### 6. 报警模板管理